package tests;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Matchers;
import org.mockito.Mockito;
import org.powermock.api.mockito.PowerMockito;
import org.powermock.core.classloader.annotations.PrepareForTest;
import org.powermock.modules.junit4.PowerMockRunner;

import commands.Copy;
import commands.Cut;
import commands.DeleteText;
import commands.InsertText;
import commands.Paste;
import commands.Select;
import engine.EditionEngine;
import engine.ImplementedEngine;
import engine.Selection;

/**
 * The Class UnitTestCommandsV1.
 */
@RunWith(PowerMockRunner.class)
@PrepareForTest({ ImplementedEngine.class })
public class UnitTestCommandsV1 {
	/** The engine. */
	private static EditionEngine engine;

	/**
	 * Instantiates a new unit test commands V 1.
	 */
	public UnitTestCommandsV1() {
		engine = PowerMockito.mock(ImplementedEngine.class);
	}

	/**
	 * Test paste.
	 */
	@Test
	public void testPaste() {
		new Paste(engine).execute();
		Mockito.verify(engine).paste();
	}

	/**
	 * Test copy.
	 */
	@Test
	public void testCopy() {
		new Copy(engine).execute();
		Mockito.verify(engine).copy();
	}

	/**
	 * Test cut.
	 */
	@Test
	public void testCut() {
		new Cut(engine).execute();
		Mockito.verify(engine).cut();
	}

	/**
	 * Test insert text.
	 */
	@Test
	public void testInsertText() {
		new InsertText(engine, "Test").execute();
		Mockito.verify(engine).insertText(Matchers.eq("Test"));
	}

	/**
	 * Test select.
	 */
	@Test
	public void testSelect() {
		final Selection sel = new Selection(0, 4);
		new Select(engine, sel).execute();
		Mockito.verify(engine).select(Matchers.eq(sel));
	}

	/**
	 * Testdelete text.
	 */
	@Test
	public void testdeleteText() {
		new DeleteText(engine).execute();
		Mockito.verify(engine).deleteText();
	}
}
